<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Messaging - Chicken Jockey Coordination System</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="themes.css">
    <link rel="stylesheet" href="messaging.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="theme-loader.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <img src="logo.png" alt="CJCS Logo">
            </div>
            <nav class="sidebar-nav">
                <button class="nav-item" data-target="dashboard.html">MISSIONS</button>
                <button class="nav-item" data-target="units.html">UNITS</button>
                <button class="nav-item" data-target="tracking.html">TRACKING</button>
                <button class="nav-item active" data-target="messaging.html">COMMS</button>
                <button class="nav-item" data-target="reports.html">REPORTS</button>
                <button class="nav-item" data-target="settings.html">SETTINGS</button>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Top Bar -->
            <header class="topbar">
                <h1 class="app-title">CHICKEN JOCKEY COORDINATION SYSTEM</h1>
                <div class="user-profile" id="user-profile">
                    <span id="username-display">USER</span>
                    <div class="user-icon">
                        <svg viewBox="0 0 24 24" width="24" height="24">
                            <circle cx="12" cy="8" r="4" fill="currentColor"/>
                            <path d="M4 20c0-4.4 3.6-8 8-8s8 3.6 8 8" fill="currentColor"/>
                        </svg>
                    </div>
                    
                    <!-- User Profile Dropdown -->
                    <div class="user-dropdown" id="user-dropdown">
                        <div class="user-dropdown-header">
                            <h3 id="user-fullname">User Profile</h3>
                            <p id="user-role">Role: User</p>
                        </div>
                        <div class="user-dropdown-content">
                            <div class="user-info-item">
                                <div class="user-info-label">Username:</div>
                                <div class="user-info-value" id="dropdown-username"></div>
                            </div>
                            <div class="user-info-item">
                                <div class="user-info-label">Email:</div>
                                <div class="user-info-value" id="dropdown-email"></div>
                            </div>
                        </div>
                        <div class="user-dropdown-footer">
                            <button class="logout-btn" id="logout-btn">Logout</button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Messaging Section -->
            <section class="content-section">
                <div class="section-header">
                    <h2>COMMUNICATIONS</h2>
                </div>

                <!-- Messaging Interface -->
                <div class="messaging-container">
                    <!-- Left Column - Contacts & Search -->
                    <div class="contacts-column">
                        <h3>Conversations</h3>
                        <div class="search-container">
                            <input type="text" placeholder="Search messages..." class="search-input">
                            <button class="search-btn">
                                <svg viewBox="0 0 24 24" width="18" height="18">
                                    <path d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor"/>
                                </svg>
                            </button>
                        </div>
                        <button class="new-chat-btn">
                            <svg viewBox="0 0 24 24" width="18" height="18">
                                <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                            </svg>
                            <span>New Chat</span>
                        </button>
                        <div class="conversations-list">
                            <!-- Conversation items will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Middle Panel - Chat Thread -->
                    <div class="messages-column">
                        <div class="chat-header">
                            <div class="chat-title">
                                <h3>Select a conversation</h3>
                                <span class="status"></span>
                            </div>
                        </div>
                        <div class="messages-container">
                            <div class="empty-state">
                                <div class="empty-icon">
                                    <svg viewBox="0 0 24 24" width="48" height="48">
                                        <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z" fill="currentColor"/>
                                    </svg>
                                </div>
                                <p>Select a conversation to start messaging</p>
                            </div>
                        </div>
                        <div class="message-input-container">
                            <input type="text" placeholder="Type your message..." class="message-input" disabled>
                            <button class="send-btn" disabled>
                                <svg viewBox="0 0 24 24" width="18" height="18">
                                    <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" fill="currentColor"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Right Panel - Contact Info & Actions -->
                    <div class="info-column">
                        <div class="contact-info">
                            <h3>Contact Information</h3>
                            <div class="info-card">
                                <div class="large-avatar">
                                    <span>?</span>
                                </div>
                                <div class="info-details">
                                    <div class="info-row">
                                        <div class="label">Name:</div>
                                        <div class="value">Select a contact</div>
                                    </div>
                                    <div class="info-row">
                                        <div class="label">Status:</div>
                                        <div class="value">-</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="quick-actions">
                            <h3>Quick Actions</h3>
                            <!-- Action buttons will be added dynamically -->
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    <script src="messaging.js"></script>
    <script src="user-profile.js"></script>
</body>
</html>